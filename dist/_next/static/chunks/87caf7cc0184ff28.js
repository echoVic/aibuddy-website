(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,58887,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(67881);let o=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function l({product:e}){let[l,s]=(0,a.useState)(!1),[i,c]=(0,a.useState)(""),n=async()=>{s(!0),c("");try{let t=await fetch("/api/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:e.id,price:e.price,name:e.name})});if(!t.ok){let e=await t.json().catch(()=>({}));throw Error(e.error||"Failed to create checkout")}let a=await t.json();if(a.approvalUrl)window.location.href=a.approvalUrl;else if(a.orderId){let e=`https://www.sandbox.paypal.com/checkoutnow?token=${a.orderId}`;window.location.href=e}else throw Error("Invalid response from server")}catch(e){console.error("Checkout error:",e),c(e instanceof Error?e.message:"Payment initialization failed"),s(!1)}};return i?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-red-500 text-sm text-center",children:i}),(0,t.jsx)(r.Button,{onClick:()=>c(""),variant:"outline",className:"w-full",children:"Try Again"})]}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(r.Button,{onClick:n,disabled:l,className:"w-full bg-[#0070BA] hover:bg-[#003087]",children:l?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o,{className:"mr-2 h-4 w-4 animate-spin"}),"Connecting to PayPal..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,t.jsx)("path",{d:"M7.076 21.337H2.47a.641.641 0 0 1-.633-.74L4.944 3.72a.77.77 0 0 1 .757-.629h6.724c2.838 0 5.098.835 5.898 2.507.447.913.558 1.933.332 3.036-.335 1.628-1.124 2.917-2.354 3.848-1.255.95-2.858 1.431-4.768 1.431h-1.92a.77.77 0 0 0-.756.629l-.781 5.805z"}),(0,t.jsx)("path",{d:"M20.067 8.94c-.013.092-.028.185-.045.28-.32 1.867-1.364 3.465-2.936 4.503-.87.574-1.88.897-2.96.954l-.15.008h-2.37a.64.64 0 0 0-.632.535l-.747 4.863-.214 1.39a.346.346 0 0 0 .342.398h4.17a.578.578 0 0 0 .57-.482l.041-.213.804-5.18.052-.285a.578.578 0 0 1 .571-.482h.36c2.333 0 4.158-.947 4.693-3.48.223-1.04.109-1.905-.42-2.556z"})]}),"Pay $",e.price," with PayPal"]})}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:"You will be redirected to PayPal to complete your payment"})]})}e.s(["default",()=>l],58887)}]);